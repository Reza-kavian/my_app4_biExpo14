diff --git a/node_modules/react-native-worklets-core/android/CMakeLists.txt b/node_modules/react-native-worklets-core/android/CMakeLists.txt
index cc4cbfe..e160cf2 100644
--- a/node_modules/react-native-worklets-core/android/CMakeLists.txt
+++ b/node_modules/react-native-worklets-core/android/CMakeLists.txt
@@ -1,116 +1,61 @@
-project("rnworklets")
-cmake_minimum_required(VERSION 3.8)
+cmake_minimum_required(VERSION 3.22)
+project(WorkletsCore)
 
-set(CMAKE_VERBOSE_MAKEFILE ON)
-set(CMAKE_CXX_STANDARD 17)
+set(MODULE_NAME worklets-core)
+set(WORKLETS_CORE_DIR "${PROJECT_SOURCE_DIR}/..")
 
-if(${CMAKE_BUILD_TYPE} STREQUAL "Debug")
-  string(APPEND CMAKE_CXX_FLAGS " -DDEBUG")
-endif()
-
-set(PACKAGE_NAME "rnworklets")
-
-
-# Pre-set Folly flags from React Native core
-include("${REACT_NATIVE_DIR}/ReactAndroid/cmake-utils/folly-flags.cmake")
-add_compile_options(${folly_FLAGS})
+# 1. پیدا کردن وابستگی های React Native
+find_package(ReactAndroid REQUIRED)
 
-# Consume shared libraries and headers from prefabs
-find_package(fbjni REQUIRED CONFIG)
-find_package(ReactAndroid REQUIRED CONFIG)
-
-file(GLOB_RECURSE SOURCES_COMMON CONFIGURE_DEPENDS "../cpp/**.cpp")
+# 2. تعریف فایل های منبع
+file(GLOB_RECURSE WORKLETS_CORE_SRCS "${WORKLETS_CORE_DIR}/cpp/*.cpp")
+file(GLOB_RECURSE WORKLETS_CORE_HDRS "${WORKLETS_CORE_DIR}/cpp/*.h")
 
 add_library(
-  ${PACKAGE_NAME}
-  SHARED
-  ${SOURCES_COMMON}
-  cpp-adapter.cpp
+    ${MODULE_NAME}
+    SHARED
+    ${WORKLETS_CORE_SRCS}
+    ${WORKLETS_CORE_HDRS}
 )
 
-# includes
-target_include_directories(
-  ${PACKAGE_NAME}
-  PRIVATE
-  ../cpp
-  ../cpp/base
-  ../cpp/decorators
-  ../cpp/dispatch
-  ../cpp/sharedvalues
-  ../cpp/wrappers
-  "${REACT_NATIVE_DIR}/ReactAndroid/src/main/jni/react/turbomodule"
-  "${REACT_NATIVE_DIR}/ReactCommon"
-  "${REACT_NATIVE_DIR}/ReactCommon/callinvoker"
-  "${REACT_NATIVE_DIR}/ReactCommon/runtimeexecutor"
+# 3. اضافه کردن دایرکتوری های Include
+target_include_directories(${MODULE_NAME} PUBLIC
+    # اینها مسیرهای مورد نیاز برای یافتن فایل های هدر JSI و Worklets هستند.
+    "${REACT_NATIVE_DIR}/ReactCommon"
+    "${REACT_NATIVE_DIR}/ReactCommon/jsi"
+    "${REACT_NATIVE_DIR}/ReactAndroid/src/main/jni/react/common"
+    "${WORKLETS_CORE_DIR}/cpp"
+    "${REACTANDROID_INCLUDE_DIRS}" # اضافه شدن مسیرهای هدر ReactAndroid
 )
 
-# build shared lib
-set_target_properties(${PACKAGE_NAME} PROPERTIES LINKER_LANGUAGE CXX)
 
+# 4. تنظیم کتابخانه های لینک
 target_link_libraries(
-  ${PACKAGE_NAME}
-  log
-  android
+    ${MODULE_NAME}
+    PUBLIC
+    ${REACTANDROID_LINK_LIBRARIES} # لینک شدن JSI و Fabric به صورت خودکار
+    c++_shared
+    log # برای Android logging
 )
 
-target_link_libraries(
-  ${PACKAGE_NAME}
-  ReactAndroid::jsi
-  fbjni::fbjni
-)
-
-if(ReactAndroid_VERSION_MINOR GREATER_EQUAL 76)
-  target_link_libraries(
-    ${PACKAGE_NAME}
-    ReactAndroid::reactnative             # <-- RN: Native Modules umbrella prefab
-  )
-else()
-  target_link_libraries(
-    ${PACKAGE_NAME}
-    ReactAndroid::reactnativejni           # <-- RN: React Native JNI bindings
-    ReactAndroid::folly_runtime
-    ReactAndroid::glog
-  )
+# 5. لینک کردن زمان اجرای جاوا اسکریپت (Hermes)
+if(JS_RUNTIME STREQUAL "hermes")
+  target_link_libraries(${MODULE_NAME} PUBLIC hermes)
 endif()
 
-# Add the appropriate JS runtime
-if(${JS_RUNTIME} STREQUAL "hermes")
-  find_package(hermes-engine REQUIRED CONFIG)
-
-  string(APPEND CMAKE_CXX_FLAGS " -DJS_RUNTIME_HERMES=1")
-
-  target_link_libraries(
-    ${PACKAGE_NAME}
-    hermes-engine::libhermes
-  )
+# 6. لینک کردن به ماژول react-native-worklets با نام C++ مورد انتظار (rnworklets)
+# این خط مستقیماً خطای CXX1404 را برطرف می کند.
+if (TARGET rnworklets)
+    target_link_libraries(${MODULE_NAME} PRIVATE rnworklets)
+endif()
 
-  if(${HERMES_ENABLE_DEBUGGER})
-    if(ReactAndroid_VERSION_MINOR GREATER_EQUAL 76)
-      target_link_libraries(
-        ${PACKAGE_NAME}
-        ReactAndroid::hermestooling
-      )
-    else()
-      target_link_libraries(
-        ${PACKAGE_NAME}
-        ReactAndroid::hermes_executor
-      )
-    endif()
-  endif()
-elseif(${JS_RUNTIME} STREQUAL "jsc")
-  string(APPEND CMAKE_CXX_FLAGS " -DJS_RUNTIME_JSC=1")
+# 7. تنظیم آپشن های کامپایلر
+target_compile_options(${MODULE_NAME} PRIVATE
+    -fexceptions
+    -frtti
+    -fPIC
+    -std=c++17
+    -Wall
+)
 
-  if(ReactAndroid_VERSION_MINOR GREATER_EQUAL 76)
-    target_link_libraries(
-      ${PACKAGE_NAME}
-      ReactAndroid::jsctooling
-    )
-  else()
-    target_link_libraries(
-      ${PACKAGE_NAME}
-      ReactAndroid::jscexecutor
-    )
-  endif()
-else()
-  message(FATAL_ERROR "Unknown JS runtime ${JS_RUNTIME}.")
-endif()
+install(TARGETS ${MODULE_NAME} DESTINATION ${CMAKE_INSTALL_PREFIX})
\ No newline at end of file
diff --git a/node_modules/react-native-worklets-core/android/build.gradle b/node_modules/react-native-worklets-core/android/build.gradle
index b6af1c3..cb653f2 100644
--- a/node_modules/react-native-worklets-core/android/build.gradle
+++ b/node_modules/react-native-worklets-core/android/build.gradle
@@ -86,6 +86,11 @@ android {
         abiFilters (*reactNativeArchitectures())
       }
     }
+
+    ndk {
+      ndkVersion rootProject.ext.ndkVersion 
+    }
+
   }
 
   buildFeatures {
