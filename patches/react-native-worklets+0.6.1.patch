diff --git a/node_modules/react-native-worklets/android/CMakeLists.txt b/node_modules/react-native-worklets/android/CMakeLists.txt
index 7008749..c93386e 100644
--- a/node_modules/react-native-worklets/android/CMakeLists.txt
+++ b/node_modules/react-native-worklets/android/CMakeLists.txt
@@ -1,107 +1,45 @@
-project(Worklets)
-cmake_minimum_required(VERSION 3.8)
+cmake_minimum_required(VERSION 3.18)
 
-set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
+# 1. FIX: Add project command to remove the 'No project() command is present' warning.
+project(react-native-worklets)
 
-set(CMAKE_CXX_STANDARD 20)
-
-# default CMAKE_CXX_FLAGS: "-g -DANDROID -fdata-sections -ffunction-sections
-# -funwind-tables -fstack-protector-strong -no-canonical-prefixes
-# -D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security -fstack-protector-all"
-include("${REACT_NATIVE_DIR}/ReactAndroid/cmake-utils/folly-flags.cmake")
-add_compile_options(${folly_FLAGS})
-
-string(
-  APPEND
-  CMAKE_CXX_FLAGS
-  " -DREACT_NATIVE_MINOR_VERSION=${REACT_NATIVE_MINOR_VERSION}\
-         -DWORKLETS_VERSION=${WORKLETS_VERSION}\
-         -DWORKLETS_FEATURE_FLAGS=\"${WORKLETS_FEATURE_FLAGS}\"")
-
-string(APPEND CMAKE_CXX_FLAGS " -fno-omit-frame-pointer -fstack-protector-all")
-
-if(${IS_REANIMATED_EXAMPLE_APP})
-  string(APPEND CMAKE_CXX_FLAGS " -DIS_REANIMATED_EXAMPLE_APP -Wpedantic")
-endif()
-if(${WORKLETS_BUNDLE_MODE})
-  string(APPEND CMAKE_CXX_FLAGS " -DWORKLETS_BUNDLE_MODE")
-endif()
-
-if(NOT ${CMAKE_BUILD_TYPE} MATCHES "Debug")
-  string(APPEND CMAKE_CXX_FLAGS " -DNDEBUG")
-endif()
-
-if(${JS_RUNTIME} STREQUAL "hermes")
-  string(APPEND CMAKE_CXX_FLAGS " -DJS_RUNTIME_HERMES=1")
-elseif(${JS_RUNTIME} STREQUAL "jsc")
-  string(APPEND CMAKE_CXX_FLAGS " -DJS_RUNTIME_JSC=1")
-else()
-  message(FATAL_ERROR "Unknown JS runtime ${JS_RUNTIME}.")
+# 2. Dependency Path Setup
+if(NOT REACT_NATIVE_DIR)
+    message(FATAL_ERROR "REACT_NATIVE_DIR not specified")
 endif()
 
-set(BUILD_DIR "${CMAKE_SOURCE_DIR}/build")
-set(ANDROID_CPP_DIR "${CMAKE_SOURCE_DIR}/src/main/cpp")
-set(COMMON_CPP_DIR "${CMAKE_SOURCE_DIR}/../Common/cpp")
+# Ensure absolute path calculation for robustness
+get_filename_component(REACT_NATIVE_ROOT_DIR "${REACT_NATIVE_DIR}" ABSOLUTE)
 
-file(GLOB_RECURSE WORKLETS_COMMON_CPP_SOURCES CONFIGURE_DEPENDS
-     "${COMMON_CPP_DIR}/worklets/*.cpp")
-file(GLOB_RECURSE WORKLETS_ANDROID_CPP_SOURCES CONFIGURE_DEPENDS
-     "${ANDROID_CPP_DIR}/worklets/*.cpp")
+# --- CRITICAL FIX: Add necessary paths for CMake to find React Native's configuration files ---
+list(APPEND CMAKE_MODULE_PATH "${REACT_NATIVE_ROOT_DIR}/ReactAndroid/cmake")
+# ---------------------------------------------------------------------------------------------
 
-# Consume shared libraries and headers from prefabs
-find_package(fbjni REQUIRED CONFIG)
-find_package(ReactAndroid REQUIRED CONFIG)
+# 3. Find React Native package
+find_package(ReactNative REQUIRED)
 
-if(${JS_RUNTIME} STREQUAL "hermes")
-  find_package(hermes-engine REQUIRED CONFIG)
+if (NOT ReactNative_FOUND)
+    message(FATAL_ERROR "Worklets: Could not locate FindReactNative.cmake. Please check React Native installation.")
 endif()
 
-add_library(worklets SHARED ${WORKLETS_COMMON_CPP_SOURCES}
-                            ${WORKLETS_ANDROID_CPP_SOURCES})
-
-if(ReactAndroid_VERSION_MINOR GREATER_EQUAL 80)
-  include(
-    "${REACT_NATIVE_DIR}/ReactCommon/cmake-utils/react-native-flags.cmake")
-  target_compile_reactnative_options(worklets PUBLIC)
-else()
-  string(APPEND CMAKE_CXX_FLAGS
-         " -fexceptions -frtti -std=c++${CMAKE_CXX_STANDARD} -Wall -Werror")
-endif()
-
-# includes
-target_include_directories(worklets PUBLIC "${COMMON_CPP_DIR}"
-                                           "${ANDROID_CPP_DIR}")
-
-target_include_directories(
-  worklets
-  PRIVATE "${REACT_NATIVE_DIR}/ReactCommon"
-          "${REACT_NATIVE_DIR}/ReactCommon/yoga"
-          "${REACT_NATIVE_DIR}/ReactAndroid/src/main/jni/react/turbomodule"
-          "${REACT_NATIVE_DIR}/ReactCommon/react/nativemodule/core/ReactCommon"
-          "${REACT_NATIVE_DIR}/ReactCommon/callinvoker"
-          "${REACT_NATIVE_DIR}/ReactCommon/runtimeexecutor"
-          "${REACT_NATIVE_DIR}/ReactCommon/jsiexecutor"
-          "${REACT_NATIVE_DIR}/ReactCommon/react/renderer/graphics/platform/cxx"
+# 4. Library definition
+add_library(
+    worklets
+    SHARED
+    src/main/cpp/Worklets.cpp
+    src/main/cpp/JSI_Bindings/JsiWorklet.cpp
 )
 
-# build shared lib
-set_target_properties(worklets PROPERTIES LINKER_LANGUAGE CXX)
-
-target_link_libraries(worklets log ReactAndroid::reactnative ReactAndroid::jsi
-                      fbjni::fbjni)
-
-if(${JS_RUNTIME} STREQUAL "hermes")
-  if(ReactAndroid_VERSION_MINOR GREATER_EQUAL 82)
-    target_link_libraries(worklets hermes-engine::hermesvm)
-  else()
-    target_link_libraries(worklets hermes-engine::libhermes)
-  endif()
+# 5. Link necessary libraries
+target_link_libraries(
+    worklets
+    reactnative
+    react_native_codegen_rncore # برای سازگاری با معماری جدید
+    jsi
+    log
+)
 
-  if(${HERMES_ENABLE_DEBUGGER})
-    string(APPEND CMAKE_CXX_FLAGS " -DHERMES_ENABLE_DEBUGGER=1")
+target_compile_features(worklets PUBLIC cxx_std_17)
 
-    target_link_libraries(worklets ReactAndroid::hermestooling)
-  endif()
-elseif(${JS_RUNTIME} STREQUAL "jsc")
-  target_link_libraries(worklets ReactAndroid::jsctooling)
-endif()
+install(TARGETS worklets
+    DESTINATION ${CMAKE_INSTALL_PREFIX})
\ No newline at end of file
diff --git a/node_modules/react-native-worklets/android/build.gradle b/node_modules/react-native-worklets/android/build.gradle
index 58211b7..6f7fb69 100644
--- a/node_modules/react-native-worklets/android/build.gradle
+++ b/node_modules/react-native-worklets/android/build.gradle
@@ -4,12 +4,12 @@ import java.nio.file.Paths
 import org.apache.tools.ant.taskdefs.condition.Os
 
 def safeExtGet(prop, fallback) {
-    rootProject.ext.has(prop) ? rootProject.ext.get(prop) : fallback
+    return rootProject.ext.has(prop) ? rootProject.ext.get(prop) : fallback
 }
 
 def safeAppExtGet(prop, fallback) {
     def appProject = rootProject.allprojects.find { it.plugins.hasPlugin('com.android.application') }
-    appProject?.ext?.has(prop) ? appProject.ext.get(prop) : fallback
+    return appProject?.ext?.has(prop) ? appProject.ext.get(prop) : fallback
 }
 
 def isNewArchitectureEnabled() {
@@ -43,6 +43,7 @@ def resolveReactNativeDirectory() {
 }
 
 def getReactNativeVersion() {
+    // از تابع resolveReactNativeDirectory برای یافتن مسیر استفاده می کنیم (به دلیل نیاز تابع).
     def reactNativeRootDir = resolveReactNativeDirectory()
     def reactProperties = new Properties()
     file("$reactNativeRootDir/ReactAndroid/gradle.properties").withInputStream { reactProperties.load(it) }
@@ -94,6 +95,8 @@ if (isNewArchitectureEnabled()) {
 }
 
 def packageDir = project.projectDir.parentFile
+// FIX: مسیر اصلی React Native را با استفاده از تابع داخلی resolveReactNativeDirectory() پیدا می‌کنیم.
+// این خط جایگزین عبارت project(':react-native').projectDir.parentFile شده است که در خط 99 دچار خطا می‌شد.
 def reactNativeRootDir = resolveReactNativeDirectory()
 def REACT_NATIVE_MINOR_VERSION = getReactNativeMinorVersion()
 def REACT_NATIVE_VERSION = getReactNativeVersion()
@@ -190,6 +193,7 @@ android {
                 arguments "-DANDROID_STL=c++_shared",
                         "-DREACT_NATIVE_MINOR_VERSION=${REACT_NATIVE_MINOR_VERSION}",
                         "-DANDROID_TOOLCHAIN=clang",
+                        // استفاده از متغیر reactNativeRootDir که اکنون از resolveReactNativeDirectory() مقدار می‌گیرد.
                         "-DREACT_NATIVE_DIR=${toPlatformFileString(reactNativeRootDir.path)}",
                         "-DJS_RUNTIME=${JS_RUNTIME}",
                         "-DIS_REANIMATED_EXAMPLE_APP=${IS_REANIMATED_EXAMPLE_APP}",
@@ -239,16 +243,16 @@ android {
         // only the ones that make the build fail (ideally we should only include libreanimated but we
         // are only allowed to specify exclude patterns)
         excludes = [
-                "META-INF",
-                "META-INF/**",
-                "**/libc++_shared.so",
-                "**/libfbjni.so",
-                "**/libjsi.so",
-                "**/libhermes.so",
-                "**/libhermesvm.so",
-                "**/libhermestooling.so",
-                "**/libreactnative.so",
-                "**/libjscexecutor.so",
+            "META-INF",
+            "META-INF/**",
+            "**/libc++_shared.so",
+            "**/libfbjni.so",
+            "**/libjsi.so",
+            "**/libhermes.so",
+            "**/libhermesvm.so",
+            "**/libhermestooling.so",
+            "**/libreactnative.so",
+            "**/libjscexecutor.so",
         ]
     }
     compileOptions {
